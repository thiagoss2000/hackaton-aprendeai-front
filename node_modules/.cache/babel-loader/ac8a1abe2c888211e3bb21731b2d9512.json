{"ast":null,"code":"var _jsxFileName = \"/home/thiago/Documentos/desenvolvimento/projeto14-ifome/projeto14-ifome-front/src/components/SignIn.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Main, StyledLink } from \"../assets/signInStyled\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"./context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function SignIn() {\n  _s();\n\n  const navigate = useNavigate();\n  const [show, setShow] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [valid, setValid] = useState(true);\n  const {\n    setSession,\n    session\n  } = useContext(AuthContext);\n  const inputs = [{\n    type: \"email\",\n    placeholder: \"E-mail\"\n  }, {\n    type: \"password\",\n    placeholder: \"Password\"\n  }];\n  if (session) navigate(\"/main\");\n\n  async function submitForm(e) {\n    e.preventDefault();\n    setLoading(true);\n    const URI = \"http://localhost:5000/sign-in\";\n    const body = {\n      email: e.target[0].value,\n      password: e.target[1].value\n    };\n    axios.post(URI, body).then(res => {\n      setSession(res.data);\n      navigate(\"/main\");\n    }).catch(e => {\n      setValid(false);\n      setLoading(false);\n    });\n  }\n\n  function showPassword(e) {\n    if (e.target.checked) {\n      setShow(true);\n    } else {\n      setShow(false);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Main, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"iFome\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => submitForm(e),\n      children: [inputs.map(i => {\n        return /*#__PURE__*/_jsxDEV(\"input\", {\n          type: i.type === \"password\" && show ? \"text\" : i.type,\n          placeholder: i.placeholder,\n          minLength: i.type === \"password\" ? \"6\" : \"\"\n        }, i.placeholder, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: \"show\",\n          className: \"checkbox\",\n          onClick: e => showPassword(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"show\",\n          children: \"Show password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: loading ? {\n          opacity: 0.6,\n          cursor: \"auto\"\n        } : {},\n        disabled: loading ? true : false,\n        children: \"Enter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledLink, {\n      to: \"/sign-up\",\n      children: \"Register new account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), valid ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"failed to login, try again\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SignIn, \"BoPd8xpC2G3h0Ouxl2aY8iL1I1E=\", false, function () {\n  return [useNavigate];\n});\n\n_c = SignIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"names":["useState","useNavigate","axios","Main","StyledLink","useContext","AuthContext","SignIn","navigate","show","setShow","loading","setLoading","valid","setValid","setSession","session","inputs","type","placeholder","submitForm","e","preventDefault","URI","body","email","target","value","password","post","then","res","data","catch","showPassword","checked","map","i","opacity","cursor"],"sources":["/home/thiago/Documentos/desenvolvimento/projeto14-ifome/projeto14-ifome-front/src/components/SignIn.js"],"sourcesContent":["import { useState } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport axios from \"axios\"\nimport { Main, StyledLink } from \"../assets/signInStyled\"\n\nimport { useContext } from \"react\";\nimport { AuthContext } from \"./context\";\n\nexport default function SignIn() {\n  const navigate = useNavigate()\n  const [show, setShow] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [valid, setValid] = useState(true)\n  const { setSession, session } = useContext(AuthContext);\n\n  const inputs = [\n    { type: \"email\", placeholder: \"E-mail\" },\n    { type: \"password\", placeholder: \"Password\" },\n  ]\n  \n  if(session)\n    navigate(\"/main\")\n\n  async function submitForm(e) {\n    e.preventDefault()\n    setLoading(true)\n    const URI = \"http://localhost:5000/sign-in\"\n\n    const body = {\n      email: e.target[0].value,\n      password: e.target[1].value,\n    }\n\n    axios.post(URI, body)\n    .then((res) => {\n      setSession(res.data)\n      navigate(\"/main\")\n    }) \n    .catch((e) => {\n      setValid(false)\n      setLoading(false)\n    })\n  }\n\n  function showPassword(e) {\n    if (e.target.checked) {\n      setShow(true)\n    } else {\n      setShow(false)\n    }\n  }\n\n  return (\n    <Main>\n      <h1>iFome</h1>\n      {/* <p>Sign In</p> */}\n      <form onSubmit={(e) => submitForm(e)}>\n      {inputs.map((i) => {\n          return (\n            <input\n              key={i.placeholder}\n              type={i.type === \"password\" && show ? \"text\" : i.type}\n              placeholder={i.placeholder}\n              minLength={i.type === \"password\" ? \"6\" : \"\"}\n            />\n          )\n        })}\n        <div>\n          <input type=\"checkbox\" id=\"show\" className=\"checkbox\" onClick={(e) => showPassword(e)} />\n          <label htmlFor=\"show\">Show password</label>\n        </div>\n        <button\n          type=\"submit\"\n          style={loading ? { opacity: 0.6, cursor: \"auto\" } : {}}\n          disabled={loading ? true : false}\n        >\n          Enter\n        </button>\n      </form>\n      <StyledLink to={\"/sign-up\"}>Register new account</StyledLink>\n      {valid ? <></> : <p>failed to login, try again</p>}\n    </Main>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}