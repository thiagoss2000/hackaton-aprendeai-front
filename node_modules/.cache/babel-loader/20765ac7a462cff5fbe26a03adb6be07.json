{"ast":null,"code":"var _jsxFileName = \"/home/thiago/Documentos/desenvolvimento/aprendeai/hackaton-aprendeai-front/src/components/MainPage.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Main, Theme } from \"../assets/mainStyled\";\nimport userImg from \"../icons/user.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MainPage() {\n  _s();\n\n  const URL = \"https://back-aprendeai.herokuapp.com\";\n  const navigate = useNavigate();\n  const [themes, setThemes] = useState([]);\n  const [userMenu, setUserMenu] = useState(false);\n  const user_id = sessionStorage.user;\n  const token = sessionStorage.token;\n  useEffect(() => {\n    axios.get(`${URL}/categories`, {\n      headers: {\n        'user': user_id\n      }\n    }).then(response => {\n      console.log(response.data);\n      setThemes(response.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  function logout() {\n    sessionStorage.removeItem('user');\n    sessionStorage.removeItem('token');\n  }\n\n  function sendTheme() {\n    if (!user_id) {\n      navigate(\"/\");\n      return;\n    }\n\n    axios.post(`${URL}/purchase`, {\n      headers: {\n        'user': user_id,\n        'token': token\n      }\n    }).then(response => {\n      console.log(response);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  if (themes.length === 0) {\n    console.log('loading...');\n  } else {\n    return /*#__PURE__*/_jsxDEV(Main, {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `MenuUser ${userMenu ? '' : 'displayNone'}`,\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            onClick: logout,\n            children: \"logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          onClick: () => setUserMenu(true),\n          className: \"icon\",\n          src: userImg,\n          alt: \"user\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Aprende ai\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Ol\\xE1, \", 'fulano']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"body\",\n        onClick: () => setUserMenu(false),\n        children: themes.map(theme => {\n          return /*#__PURE__*/_jsxDEV(Theme //key={theme._id} \n          , {\n            color: '#252525',\n            className: \"products\",\n            onClick: () => sendTheme(theme._id),\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: theme.image,\n              alt: theme.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: theme.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(MainPage, \"bfHh16UOMevXLd6SPJIRNBEPqk8=\", false, function () {\n  return [useNavigate];\n});\n\n_c = MainPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"names":["useEffect","useState","useNavigate","axios","Main","Theme","userImg","MainPage","URL","navigate","themes","setThemes","userMenu","setUserMenu","user_id","sessionStorage","user","token","get","headers","then","response","console","log","data","catch","err","logout","removeItem","sendTheme","post","length","map","theme","_id","image","name"],"sources":["/home/thiago/Documentos/desenvolvimento/aprendeai/hackaton-aprendeai-front/src/components/MainPage.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport axios from \"axios\"\n\nimport { Main, Theme } from \"../assets/mainStyled\"\n\nimport userImg from \"../icons/user.png\"\n\nexport default function MainPage() {\n  const URL = \"https://back-aprendeai.herokuapp.com\"\n  const navigate = useNavigate();\n  const [themes, setThemes] = useState([]);\n  const [userMenu, setUserMenu] = useState(false);\n\n  const user_id = sessionStorage.user;\n  const token = sessionStorage.token;\n\n  useEffect(() => {\n    axios.get(`${URL}/categories`, {headers: {'user': user_id}})\n    .then((response) => {\n      console.log(response.data);\n      setThemes(response.data);\n    })\n    .catch((err) => {console.log(err);})\n  }, []);\n  \n  function logout(){\n    sessionStorage.removeItem('user')\n    sessionStorage.removeItem('token')\n  }\n\n  function sendTheme(){\n    if(!user_id){\n      navigate(\"/\");\n      return;\n    }\n    axios.post(`${URL}/purchase`, {headers: {'user': user_id, 'token': token}})\n    .then((response) => {console.log(response)})\n    .catch((err) => {console.log(err)})\n  }\n\n  if(themes.length === 0){\n    console.log('loading...');\n  } else {\n    return (\n      <Main>\n        <header>\n          <div className={`MenuUser ${userMenu? '' : 'displayNone'}`}>\n            <h2 onClick={logout}>logout</h2>\n          </div>\n          <img onClick={() => setUserMenu(true)} className=\"icon\" src={userImg} alt=\"user\"></img>\n          <h1>Aprende ai</h1>\n          <h3>Ol√°, {'fulano'}</h3>\n        </header>\n        <div className=\"body\" onClick={() => setUserMenu(false)}>\n          {themes.map((theme) => {\n              return(\n                <Theme \n                  //key={theme._id} \n                  color={'#252525'}\n                  className=\"products\" \n                  onClick={() => sendTheme(theme._id)}\n                >\n                  <img src={theme.image} alt={theme.name}></img>\n                  <h3>{theme.name}</h3>\n                </Theme>\n              )\n          })}\n        </div>\n      </Main>\n    )\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}